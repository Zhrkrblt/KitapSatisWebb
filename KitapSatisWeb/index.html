<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KitapDünyası - Online Kitap Satış</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <noscript>
        <div style="background: red; color: white; padding: 10px; text-align: center;">
            JavaScript devre dışı! Lütfen tarayıcınızın JavaScript özelliğini etkinleştirin.
        </div>
    </noscript>
</head>
<body>
    <div id="js-test" style="display: none; background: green; color: white; padding: 10px; text-align: center;">
        JavaScript çalışıyor!
    </div>
    <script>
        document.getElementById('js-test').style.display = 'block';
        
        // Hata yakalayıcı
        window.onerror = function(msg, url, lineNo, columnNo, error) {
            console.log('Hata: ' + msg + '\nURL: ' + url + '\nSatır: ' + lineNo + '\nKolon: ' + columnNo + '\nHata detayı: ' + error);
            alert('Bir JavaScript hatası oluştu! Konsolu kontrol edin.');
            return false;
        };
    </script>

    <nav class="navbar">
        <div class="nav-brand">
            <a href="index.html">KitapDünyası</a>
        </div>
        <div class="nav-links">
            <a href="index.html" class="active">Anasayfa</a>
            <a href="pages/favorites.html">Favoriler</a>
            <a href="pages/cart.html">Sepet <span class="cart-count">0</span></a>
            <a href="pages/login.html" id="loginBtn">Giriş Yap</a>
        </div>
    </nav>

    <main>
        <section class="categories">
            <h2>Kategoriler</h2>
            <div class="category-list">
                <button class="category-btn active">Tümü</button>
                <button class="category-btn">Roman</button>
                <button class="category-btn">Bilim Kurgu</button>
                <button class="category-btn">Tarih</button>
                <button class="category-btn">Kişisel Gelişim</button>
            </div>
        </section>

        <section class="featured-books">
            <h2>Öne Çıkan Kitaplar</h2>
            <div class="book-grid" id="bookContainer">
                <!-- Kitaplar JavaScript ile dinamik olarak eklenecek -->
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2024 KitapDünyası. Tüm hakları saklıdır.</p>
        </div>
    </footer>

    <script>
        function initializeApp() {
            console.log('Initializing app...');
            if (typeof displayBooks === 'function') {
                console.log('Displaying books...');
                displayBooks();
                setupEventListeners();
                updateCartCount();
            } else {
                console.error('displayBooks function not found!');
            }
        }

        window.addEventListener('load', function() {
            console.log('Window loaded, loading main.js...');
            const script = document.createElement('script');
            script.src = 'js/main.js';
            script.onload = function() {
                console.log('main.js loaded successfully!');
                // Script yüklendikten sonra uygulamayı başlat
                setTimeout(initializeApp, 100);
            };
            script.onerror = function(error) {
                console.error('Error loading main.js:', error);
            };
            document.body.appendChild(script);
        });
    </script>
</body>
</html> 